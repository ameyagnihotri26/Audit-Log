<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">

	<title>Audit Log</title>
	<meta content="" name="description">
	<meta content="" name="keywords">

	<!-- Favicons -->
	<!-- Google Fonts -->
	<link
		href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
		rel="stylesheet">

	<!-- Vendor CSS Files -->
	<link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="assets/vendor/icofont/icofont.min.css" rel="stylesheet">
	<link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
	<link href="assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
	<link href="assets/vendor/venobox/venobox.css" rel="stylesheet">
	<link href="assets/vendor/aos/aos.css" rel="stylesheet">

	<!-- Template Main CSS File -->
	<link href="assets/css/style.css" rel="stylesheet">

</head>
<body>

	<!-- ======= Header ======= -->
	<header id="header" class="fixed-top">	
		<nav class="navbar navbar-expand-lg navbar-dark bg-navy-fabric"> 
		<div class="logo mr-auto">
			<a href="index.html"><img src="assets/img/AUDIT.png"></a>
		</div>
		<!--<a class="navbar-brand" href="#"><b>AUDIT LOG</b></a>-->
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01"
					aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarColor01">
					<ul class="navbar-nav mr-auto">
						<li class="nav-item active">
							<a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
						</li>
						<li class="nav-item active">
							<a class="nav-link" href="#about">View Logs <span class="sr-only">(current)</span></a>
						</li>
						<li class="nav-item active">
							<a class="nav-link" href="#services">Search Log <span class="sr-only">(current)</span></a>
						</li>
					</ul>
				</div>
			</nav>
			</header><!-- End Header -->

	<!-- ======= Home Section ======= -->
	<section id="hero" class="d-flex flex-column justify-content-center align-items-center">
		<div class="container text-center text-md-left" data-aos="fade-up">
			<br><br><br><br><br><br><br><br><br><br><br>
			<h1>Mobile Plan's </h1>
				<h2> <b>Audit Log </b> </h2>
					<a href="#about" class="btn-get-started scrollto">Get Started</a>
		</div>
	</section>
	<!-- End Home -->

	<main id="main">

		<!-- ======= View Logs Section ======= -->
		<section id="about"  class="services section-bg">
			<div class="container">
					<!DOCTYPE html>
					<html>
					<head>
						<meta charset="utf-8">
						<meta name="viewport" content="width=device-width, initial-scale=1">
						<link rel="stylesheet"
							href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
						<title>Auditlog</title>
						<script>document.createElement("mypage")</script>
						<script type="text/javascript">
							function getmobileplanlist1() {
								var xhr = new XMLHttpRequest();
								xhr.open("GET", "http://localhost:8081/audit", false);
								xhr.send();
								var mpList = xhr.response;
								//alert(mpList);
								var mobilePlans = JSON.parse(mpList)
								var mobilePlanList = document.getElementById("mobileplans");
								for (var i = 0; i < mobilePlans.length; i++) {
									mobilePlanList.innerHTML += '<tr>' + '<td class="text-align-center" style="padding:0 17px 0 17px;">' + mobilePlans[i].id +
										'</td>' + '<td class="text-align-center" style="padding:0 17px 0 17px;">' + mobilePlans[i].operationType + '</td>' +
										'<td class="text-align-center" style="padding:0 17px 0 17px;">' + mobilePlans[i].entityJson + '</td>' +
										'<td class="text-align-center" style="padding:0 17px 0 17px;">' + mobilePlans[i].modificationDate + '</tr>';
								}
							}
						</script>
					</head>
					<body onLoad="getmobileplanlist1()" style="background-color: rgb(211, 211, 211)">
						<main id="main">
							<br />
							<div id="myForm">
								<form class="form-container">
									<div class="col d-flex justify-content-text-center" mt-5>
										<div class="card shadow p-5 mb-7 bg-body rounded">
											<div class="card-body">
                        						<div class=" row">
													<div class="col-12">
														<table class="table table-bordered" id="mobileplans">
															<thead class="bg-dark">
																<tr style=text-align:center;>
																	<th scope="col" style=color:white;>ID</th>
																	<th scope="col" style=color:white;>Operation Type</th>
																	<th scope="col" style=color:white;>Entity JSON</th>
																	<th scope="col" style=color:white;>Modification Date
																	</th>
																</tr>
															</thead>
															<tbody>
													 	</table>
													</div>
											   </div>	
										  </div>	
									 </div>
								</form>
							</div>
						</main>
					</body>
				</html>
			</div>
		
</section><!-- End View Logs Section -->				
	
		
<!-- ======= Search Logs Section ======= -->
		<section id="services" class="services section-bg" style="opacity:0.9">
			<div class="container">

				<div class="section-title" data-aos="fade-up">
					<!DOCTYPE html>
					<html>

					<head>
						<meta charset="utf-8">
						<meta name="viewport" content="width=device-width, initial-scale=1">
						<link rel="stylesheet"
							href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
						<title>Auditlog</title>
						<script>document.createElement("mypage")</script>
						<!-- This is a very crude way of doing things meant for learning and training only -->

						<script type="text/javascript">
							function getmobileplanlist() {
								var idn = document.getElementById('id').value;
								var xhr = new XMLHttpRequest();
								xhr.open("GET", "http://localhost:8081/audit", false);
								xhr.send();
								var mpList = xhr.response;
								var mobilePlans = JSON.parse(mpList)
								var flag = 0;
								var mobilePlanList = document.getElementById("mobile");
								for (var i = 0; i < mobilePlans.length; i++) {
									if (mobilePlans[i].id == idn) {
										mobilePlanList.innerHTML += '<li style="color: white; font-size: 20px;" >' + mobilePlans[i].id + "&nbsp;&nbsp;&nbsp;&nbsp;" + mobilePlans[i].operationType + "&nbsp;&nbsp;&nbsp;&nbsp;" + mobilePlans[i].entityJson + "&nbsp;&nbsp;&nbsp;&nbsp;" + mobilePlans[i].modificationDate + '</li>';
										flag = 1;
									}
								}
								if (flag == 0) {
									alert("Invalid Id");
								}
							}
						</script>
					</head>

					<body onload="setValue()" style="background-color: rgb(211, 211, 211)"> 
						<main id="main">
							<div id="myForm" class="form-container">
								<div class="col d-flex justify-content-center">
            						<div class="col-md-7 p-4">
            							<div class="card shadow p-3 mb-5 bg-body rounded " >
                							<div class="card-body">
                    							<h3><b>Search Logs</b></h3><br>
													<label class="form-label mb-3"><b>Search by ID</b></label>
														 <input class="form-control me-2" type="number" onkeydown="javascript: return ['Backspace','Delete','ArrowLeft','ArrowRight'].includes(event.code) ? true : !isNaN(Number(event.key)) && event.code!=='Space'"id = "id" class="form-control mb-3" id = "id"  placeholder="Search" required>&nbsp;&nbsp;&nbsp;
															<br>	
															<button class="btn btn-success" type="submit" name="bt"
																	 onclick="getmobileplanlist()">Search</button>&nbsp;&nbsp;&nbsp;
															<a href='http://localhost:8081/index.html'><button class="btn btn-danger" type="button">Cancel</button>
															</a>
														<br>          									  
												</div>
            								</div>
            							</div>
 									</div>
								</div>
							<br><br>
							<ul id="mobile">
							</ul>
						</main>
					</body>
				</html>
				</div>
			</div>
		</div>
	</section>
	<!-- End Search Logs Section -->

	</main><!-- End #main -->



	<a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

	<!-- Vendor JS Files -->
	<script src="assets/vendor/jquery/jquery.min.js"></script>
	<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
	<script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
	<script src="assets/vendor/php-email-form/validate.js"></script>
	<script src="assets/vendor/owl.carousel/owl.carousel.min.js"></script>
	<script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
	<script src="assets/vendor/venobox/venobox.min.js"></script>
	<script src="assets/vendor/aos/aos.js"></script>

	<!-- Template Main JS File -->
	<script src="assets/js/main.js"></script>

</body>

</html>


					